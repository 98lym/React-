<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>state</title>
</head>
<body>
<div id="box"></div>

<script src="../js/react.development.js" crossorigin></script>
<script src="../js/react-dom.development.js" crossorigin></script>
<script src="../js/babel.min.js"></script>
<script type="text/babel">
    class Weather extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                weatherStatus: false,
                like: '很喜欢'
            }
            // 解决一般方法中this的指向问题，通过bind改变，在实例上创建一个新的函数
            this.Switch = this.Switch.bind(this)
        }

        render() {
            const {weatherStatus, like} = this.state
            return <div>
                <h1>今天天气很{weatherStatus ? '炎热' : '凉爽'}，{like}</h1>
                <button onClick={this.Switch}>切换</button>
            </div>
        }

        Switch() {
            // 状态必须通过setState来更新，且更新是一种合并，不是替换
            // this.state.weatherStatus = !this.state.weatherStatus // 这行代码是错误的
            this.setState({weatherStatus: !this.state.weatherStatus})
        }
    }

    ReactDOM.render(<Weather/>, document.getElementById('box'))
</script>
</body>
</html>
